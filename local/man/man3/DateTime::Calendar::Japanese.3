.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.35
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "DateTime::Calendar::Japanese 3"
.TH DateTime::Calendar::Japanese 3 "2007-11-02" "perl v5.8.9" "User Contributed Perl Documentation"
.SH "NAME"
DateTime::Calendar::Japanese \- DateTime Extension for Traditional Japanese Calendars
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
.Vb 1
\&  use DateTime::Calendar::Japanese;
.Ve
.PP
.Vb 11
\&  # Construct a DT::C::Japanese object using the Chinese hexagecimal
\&  # cycle system
\&  my $dt = DateTime::Calendar::Japanese->new(
\&    cycle        => $cycle,
\&    cycle_year   => $cycle_year,
\&    month        => $month,
\&    leap_month   => $leap_month,
\&    day          => $day,
\&    hour         => $hour,
\&    hour_quarter => $hour_quarter
\&  );
.Ve
.PP
.Vb 11
\&  # Construct a DT::C::Japanese object using the era system
\&  use DateTime::Calendar::Japanese::Era qw(HEISEI);
\&  my $dt = DateTime::Calendar::Japanese->new(
\&    era_name     => HEISEI,
\&    era_year     => $era_year,
\&    month        => $month,
\&    leap_month   => $leap_month,
\&    day          => $day,
\&    hour         => $hour,
\&    hour_quarter => $hour_quarter
\&  );
.Ve
.PP
.Vb 11
\&  $cycle          = $dt->cycle;
\&  $cycle_year     = $dt->cycle_year;
\&  $era            = $dt->era;   # era object
\&  $era_name       = $dt->era_name;
\&  $era_year       = $dt->era_year;
\&  $month          = $dt->month;
\&  $leap_month     = $dt->leap_month;
\&  $day            = $dt->day;
\&  $hour           = $dt->hour;
\&  $canonical_hour = $dt->canonical_hour
\&  $hour_quarter   = $dt->hour_quarter;
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
This module implements the traditional Japanese Calendar, which was used
from circa 692 A.D. to 1867 A.D. The traditional Japanese Calendar is a
\&\fIlunisolar calendar\fR based on the Chinese Calendar, and therefore
this module may *not* be used for handling or formatting modern Japanese
calendars which are Gregorian Calendars with a twist.
Please use DateTime::Format::Japanese for that purpose.
.PP
On top of the lunisolar calendar, this module implements a simple time
system used in the Edo period, which is a type of temporal hour system, 
based on sunrise and sunset.
.SH "CAVEATS/DISCLAIMERS"
.IX Header "CAVEATS/DISCLAIMERS"
.Sh "\s-1SPEED\s0"
.IX Subsection "SPEED"
This module is based on DateTime::Calendar::Chinese, which in turn is
based on positions of the Moon and the Sun. Calculations of this sort is
definitely not Perl's forte, and therefore this module is *very* slow.
.PP
Help is much appreciated to rectify this :)
.ie n .Sh "\s-1CALENDAR\s0 ""\s-1VERSION\s0"""
.el .Sh "\s-1CALENDAR\s0 ``\s-1VERSION\s0''"
.IX Subsection "CALENDAR VERSION"
Note that for each of these calendars there exist numerous different
versions/revisions. The Japanese Calendar has at least 6 different
revisions.
.PP
The Japanese Calendar that is implemented here uses the algorithm described
in the book \*(L"Calendrical Computations\*(R" [1], which presumably describes the
latest incarnation of these calendars.
.Sh "\s-1ERA\s0 \s-1DISCREPANCIES\s0 \s-1FROM\s0 \s-1MODERN\s0 \s-1JAPANESE\s0 \s-1DATES\s0"
.IX Subsection "ERA DISCREPANCIES FROM MODERN JAPANESE DATES"
Even though this module can handle modern dates, note that this module
creates dates in the *traditional* calendar, \s-1NOT\s0 the modern gregorian
calendar used in Japane since the Meiji era. Yet, we must honor the gregorian
date in which an era started or ended. This means that the era year
calculations could be off from what you'd expect on a modern calendar.
.PP
For example, the Heisei era starts on 08 Jan 1989 (Gregorian), so in a 
modern calendar you would expect the rest of year 1989 to be Heisei 1.
However, the Chinese New Year happens to fall on 06 Feb 1989. Thus
this module would see that and increment the era year by one on that
date.
.PP
If you want to express modern Japanese calendars, you will need to use
DateTime::Format::Japanese module on the vanilla DateTime object. 
(As of this writing DateTime::Format::Japanese is in alpha release. Use
at your own peril)
.Sh "\s-1TIME\s0 \s-1COMPONENTS\s0"
.IX Subsection "TIME COMPONENTS"
The time component is based on the little that I already knew about the
traditional Japanese time system and numerous resources available on the net.
.PP
As for the Japanese time system, not much detail was available to me.
I searched in various resources on the net and used a combined alogorithm
(see \*(L"\s-1REFERENCES\s0\*(R") to produce what seemed logical (and simple enough for
me) to emulate the time system implemented in this module is from the one
used during the Edo period (1600's \- 1800's). 
.PP
If there are any corrections, please let me know.
.PP
Also note that this module Currently assumes that the sunrise/sunset hours
are calculated based on Tokyo latitude/longitude.
.SH "THE TRADITIONAL JAPANESE (EDO) TIME SYSTEM"
.IX Header "THE TRADITIONAL JAPANESE (EDO) TIME SYSTEM"
The time system that is implemented in this module is the time system used
in the Edo era, during the time of the Tokugawa shogunate (1603 \- 1867).
.PP
This time system is completely unlike the ones we are used in the modern
world, mainly in that the notion of an \*(L"hour\*(R" changes from season to
season.  The days were divided in to two parts, from sunrise to sunset, and
from sunset to sunrise. Each of these parts were then divided into 6 equal
parts.
.PP
This also means that an \*(L"hour\*(R" has a different length depending on the
season, and it even differs between day and night. However, for those people
with no watches or clocks, it's sometimes more convenient because the
position of the sun directly corelates to the time of the day.
.PP
Even more complicated to us is the fact that Japanese hours have a slightly
complex numbering scheume. The hours do not start from 1. Instead, the hour
that starts with the sunrise is hour \*(L"6\*(R", then \*(L"5\*(R", \*(L"4\*(R", and then \*(L"9\*(R", all
the way back to \*(L"6\*(R". Each of these hours also have a corresponding name,
which is based on the Chinese Zodiac.
.PP
.Vb 27
\&  ------------------
\&  | Hour | Zodiac  |
\&  ------------------
\&  |   6  | Hare    | <-- Sunrise ---
\&  ------------------               |
\&  |   5  | Dragon  |               |
\&  ------------------               |
\&  |   4  | Snake   |               |
\&  ------------------               |---- Day
\&  |   9  | Horse   |               |
\&  ------------------               |
\&  |   8  | Sheep   |               |
\&  ------------------               |
\&  |   7  | Monkey  |----------------
\&  ------------------
\&  |   6  | Fowl    | <-- Sunset ----
\&  ------------------               |
\&  |   5  | Dog     |               |
\&  ------------------               | 
\&  |   4  | Pig     |               | 
\&  ------------------               |---- Night
\&  |   9  | Rat     |               | 
\&  ------------------               | 
\&  |   8  | Ox      |               | 
\&  ------------------               | 
\&  |   7  | Tiger   |----------------
\&  ------------------
.Ve
.PP
These names are used standalone or sometimes interchangeably. For example,
\&\*(L"ne no koku\*(R" literary means \*(L"the hour of hare\*(R", but you can also say
\&\*(L"ake mutsu\*(R" which means \*(L"morning 6\*(R".
.PP
For computational purposes, DateTime::Calendar::Japanese will number the
hours 1 to 12. (You can get the canonical representation by using the
\&\fIcanonical_hour()\fR method)
.PP
Each hour is further broken up in 4 parts, which is combined with the
hour notation to express a more precise time, for example:
.PP
.Vb 1
\&  hour of Ox, 3rd quarter (around 3 a.m.)
.Ve
.SH "METHODS"
.IX Header "METHODS"
.Sh "new"
.IX Subsection "new"
There are two forms to the constructor. One form accepts \*(L"era\*(R" and \*(L"era_year\*(R"
to define the year, and the other accepts \*(L"cycle\*(R" and \*(L"cycle_year\*(R". The
rest of the parameters are the same, and they are: \*(L"month\*(R", \*(L"leap_month\*(R",
\&\*(L"day\*(R", \*(L"hour\*(R", \*(L"hour_quarter\*(R".
.PP
.Vb 10
\&  use DateTime::Calendar::Japanese;
\&  use DateTime::Calendar::Japanese::Era qw(TAIKA);
\&  my $dt = DateTime::Calendar::Japanese->new(
\&    era          => TAIKA,
\&    era_year     => 1,
\&    month        => 7,
\&    day          => 25,
\&    hour         => 4,
\&    hour_quarter => 3
\&  );
.Ve
.PP
.Vb 9
\&  # DateTime::Calendar::Chinese style
\&  my $dt = DateTime::Calendar::Japanese->new(
\&    cycle        => 78,
\&    cycle_year   => 20,
\&    month        => 3,
\&    day          => 4,
\&    hour         => 4,
\&    hour_quarter => 3
\&  );
.Ve
.PP
See the documentation for DateTime::Calendar::Chinese for the semantics
of cycle and cycle_year
.Sh "now"
.IX Subsection "now"
.Sh "from_epoch"
.IX Subsection "from_epoch"
.Sh "from_object"
.IX Subsection "from_object"
These constructors are exactly the same as those in DateTime::Calendar::Chinese
.Sh "set"
.IX Subsection "set"
Sets DateTime components.
.Sh "utc_rd_values"
.IX Subsection "utc_rd_values"
Returns the current \s-1UTC\s0 Rata Die days, seconds, and nanoseconds as a three
element list. This exists primarily to allow other calendar modules to create
objects based on the values provided by this object.
.Sh "cycle"
.IX Subsection "cycle"
Returns the current cycle. See DateTime::Calendar::Chinese
.Sh "cycle_year"
.IX Subsection "cycle_year"
Returns the current cycle_year. See DateTime::Calendar::Chinese
.Sh "era"
.IX Subsection "era"
Returns the DateTime::Calendar::Japanese::Era object associated with this
calendar.
.Sh "era_name"
.IX Subsection "era_name"
Returns the name (id) of the DateTime::Calendar::Japanese::Era object
associated with this calendar.
.Sh "era_year"
.IX Subsection "era_year"
Returns the number of years in the current era, as calculated by the
traditional lunisolar calendar. Note that calculations will be different
from those based on the modern calendar, as the date of New Year (which is
when era years are incremented) differ from modern calendars. For example,
based on the traditional calendar, \s-1SHOUWA3\s0 (1926 \- 1989) had only 63 years,
not 64. See \s-1CAVEATS\s0
.Sh "hour"
.IX Subsection "hour"
Returns the hour, based on the traditional Japanese time system. The
hours are encoded from 1 to 12 to uniquely qulaify them. However, you
can get the canonical hour by using the \fIcanonical_hour()\fR method
.PP
1 is the time of sunrise, somewhere around 5am to 6am, depending on the
time of the year (This means that hour 12 on a given date is actually \s-1BEFORE\s0
hour 1)
.Sh "canonical_hour"
.IX Subsection "canonical_hour"
Returns the canonical hour, based on the numbering system described
in the above section,
which counts from 9 to 4, and back to 9.
.Sh "hour_quarter"
.IX Subsection "hour_quarter"
Returns the quarter in the current hour (1 to 4).
.SH "AUTHOR"
.IX Header "AUTHOR"
Copyright (c) 2004\-2007 Daisuke Maki <daisuke@endeworks.jp<gt>
.SH "LICENSE"
.IX Header "LICENSE"
This program is free software; you can redistribute it and/or modify it
under the same terms as Perl itself.
.PP
See http://www.perl.com/perl/misc/Artistic.html
.SH "REFERENCES"
.IX Header "REFERENCES"
.Vb 3
\&  [1] Edward M. Reingold, Nachum Dershowitz
\&      "Calendrical Calculations (Millenium Edition)", 2nd ed.
\&       Cambridge University Press, Cambridge, UK 2002
.Ve
.PP
.Vb 4
\&  [2] http://homepage2.nifty.com/o-tajima/rekidaso/calendar.htm
\&  [3] http://www.tanomi.com/shop/items/wa_watch/index2.html
\&  [4] http://www.geocities.co.jp/Playtown/6757/edojikan01.html
\&  [5] http://www.valley.ne.jp/~ariakehs/Wadokei/hours_system.html
.Ve
.SH "SEE ALSO"
.IX Header "SEE ALSO"
DateTime
DateTime::Set
DateTime::Span
DateTime::Calendar::Chinese
DateTime::Calendar::Japanese::Era
DateTime::Event::Sunrise
