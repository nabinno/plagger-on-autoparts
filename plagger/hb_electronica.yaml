global:
  plugin_path:
    - /home/805/plagger/plugin
  assets_path: /home/805/plagger/assets
  timezone: Asia/Tokyo
  log:
    level: info    # debug
    # level: error
  cache:
    base: /home/805/plagger


plugins:
  - module: Cache
    config:
      file: /home/805/plagger/cache
      diff_mode: 1
  - module: Subscription::Config
    config:
      feed:
        - url: http://b.hatena.ne.jp/search/text?q=electronica&users=1&mode=rss
  - module: Filter::TruePermalink

  - module: Filter::Rule
    rule:
      - expression: $args->{entry}->{date} = undef; 1
      - module: Deduped
        path: /home/805/plagger/Deduped.db
      - expression: $args->{entry}->link !~ /.*group69.*/
      - expression: $args->{entry}->link !~ /.*hatebu_walker.*/
      - expression: $args->{entry}->link !~ /.*moli.*/
      - expression: $args->{entry}->link !~ /.*techwave.*/
      - expression: $args->{entry}->link !~ /http.*:\/\/books\.google.*?\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*7s-b\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*about\.me\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*ameblo\.jp\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*beatport\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*blogspot.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*bootieusa\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*bricogeek\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*dailymail\.co\.uk\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*dezeen\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*excite\.co\.jp\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*factmag\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*factmag\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*factmag\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*fc2\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*gigazine\.net\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*io3000\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*japancupid\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*jetsetrecords\.net\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*joystiq\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*knack\.be\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*knack\.be\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*mashable\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*mygraph\.info\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*myspace\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*naldzgraphics\.net\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*netokaru\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*ore\.to\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*rateyoumusic\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*ruxumu\.net\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*sciencedaily\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*squareenixmusic\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*supacreators\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*surreytutors\.biz\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*sweez\.net\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*szahala\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*tabroid.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*tabroid\.jp\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*techwave.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*tknr\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*tweet.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*vstcafe\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*xbox\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*yahoo.*/
      - expression: $args->{entry}->link !~ /http:\/\/b\.hatena\.ne\.jp\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/play\.google\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/t\.co\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*tralot\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*rdy\.jp\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*arduino\.cc\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*tower\.jp\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*movie.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*amazon.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*\.biz\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*itmedia.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*danielnouri.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*prettylightsmusic.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*huffingtonpost.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*shoemycolor.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*natalie.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*acneplay.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*shinobi.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*indiesmusicdb.*\/.*/

      - expression: $args->{entry}->link !~ /http:\/\/\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/\/.*/

      # - expression: $arg->{entry}->title !~ /^(hogehoge|kunekune).*/

  # - module: Filter::HatenaBookmarkTag
  - module: Filter::RemoveTags
  - module: Filter::AddTags
    config:
      tags:
        - electronica
        - unread
  # - module: Filter::EntryFullText
  #   config:
  #     store_html_on_failure: 1
  - module: Filter::BreakEntriesToFeeds
    config:
      use_entry_title: 1
  - module: Publish::HatenaBookmark
    rule:
      expression: not $args->{entry}->has_tag('toread')
    config:
      username: i65c
      password: base64::cXFoOWxlOXo2Mw==
      interval: 4
      post_body: 0

