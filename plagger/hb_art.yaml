global:
  plugin_path:
    - /home/805/plagger/plugin
  assets_path: /home/805/plagger/assets
  timezone: Asia/Tokyo
  log:
    level: info    # debug
    # level: error
  cache:
    base: /home/805/plagger


plugins:
  - module: Cache
    config:
      file: /home/805/plagger/cache
      diff_mode: 1
  - module: Subscription::Config
    config:
      feed:
        - url: http://otter.topsy.com/toplinks.rss?contains=art&locale=en&thresh=top5k
        # - url: http://feeds.feedburner.com/ArtnetMagazine
  - module: Filter::TruePermalink

  - module: Filter::Rule
    rule:
      - expression: $args->{entry}->{date} = undef; 1
      - module: Deduped
        path: /home/805/plagger/Deduped.db
      - expression: $args->{entry}->link !~ /http:\/\/.*abduzeedo\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*ann-tran\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*avclub\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*bitrebels\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*caponeqb\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*cultofmac\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*eastcoastdigitalradio\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*freakingfitness\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*hotair\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*illust.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*instagram\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*io9\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*lifehacker.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*lifehacker.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*lovethesepics\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*mashable\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*petapixel\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*photozz\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*prezzybox\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*readwriteweb\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*shannongrissom\.info\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*smartblogs\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*smashingmagazine\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*socialmedia.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*sohh\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*spin\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*sport.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*techdirt\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*thegrio\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*thenextweb\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*tvline\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*twi.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*yahoo\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*zaharoff360\.com\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*hiphop.*\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/.*travel.*\/.*/

      - expression: $args->{entry}->link !~ /http:\/\/\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/\/.*/
      - expression: $args->{entry}->link !~ /http:\/\/\/.*/

      # - expression: $arg->{entry}->title !~ /^(hogehoge|kunekune).*/

  # - module: Filter::HatenaBookmarkTag
  - module: Filter::RemoveTags
  - module: Filter::AddTags
    config:
      tags:
        - art
        - unread
  # - module: Filter::EntryFullText
  #   config:
  #     store_html_on_failure: 1
  - module: Filter::BreakEntriesToFeeds
    config:
      use_entry_title: 1
  - module: Publish::HatenaBookmark
    rule:
      expression: not $args->{entry}->has_tag('toread')
    config:
      username: i65c
      password: base64::cXFoOWxlOXo2Mw==
      interval: 4
      post_body: 0

