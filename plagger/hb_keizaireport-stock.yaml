global:
  plugin_path:
    - /home/805/plagger/plugin
  assets_path: /home/805/plagger/assets
  timezone: Asia/Tokyo
  log:
    level: info    # debug
    # level: error
  cache:
    base: /home/805/plagger


plugins:
  - module: Cache
    config:
      file: /home/805/plagger/cache
      diff_mode: 1
  - module: Subscription::Config
    config:
      feed:
        - url: http://www3.keizaireport.com/rss/keyword_107.xml
#  - module: Filter::EntryFullText
#    config:
#      store_html_on_failure: 1
#      force_update: 1
  - module: Filter::TruePermalink

  - module: Filter::Rule
    rule:
      - expression: $args->{entry}->{date} = undef; 1
      - module: Deduped
        path: /home/805/plagger/Deduped_keizaireport.db

      # - expression: $args->{entry}->link !~ /http:\/\/\/.*/
      # - expression: $arg->{entry}->title !~ /^(hogehoge|kunekune).*/

  # - module: Filter::HatenaBookmarkTag
  - module: Filter::RemoveTags
  - module: Filter::AddTags
    config:
      tags:
        - stock-market
        - unread
  - module: Filter::BreakEntriesToFeeds
    config:
      use_entry_title: 1
  - module: Publish::HatenaBookmark
    rule:
      expression: not $args->{entry}->has_tag('toread')
    config:
      username: i65c
      password: base64::cXFoOWxlOXo2Mw==
      interval: 4
      post_body: 0


# define_recipes:
#   publish:
#     - module: Search::Rast
#       config:
#         encode: euc_jp
#         replace: 1
#         dir: ~/plagger/rast
#     - module: Publish::Gmail
#       rule:
#         - module: Rating
#           rate: '>= 0'
#       config:
#         mailto: g8fgkv@gmail.com
#         mailfrom: g8fgkv@gmail.com
#         mailroute:
#           via: smtp
#           host: localhost

